PACKAGE COM.PATH;// FILES/PATHINFO.JAVA
// (C)2021 MINDVIEW LLC: SEE COPYRIGHT.TXT
// WE MAKE NO GUARANTEES THAT THIS CODE IS FIT FOR ANY PURPOSE.
// VISIT HTTP://ONJAVA8.COM FOR MORE BOOK INFORMATION.

IMPORT JAVA.NIO.FILE.*;
IMPORT JAVA.NET.URI;
IMPORT JAVA.IO.FILE;
IMPORT JAVA.IO.IOEXCEPTION;

PUBLIC CLASS PATHINFO {
    STATIC VOID SHOW(STRING ID, OBJECT P) {
        SYSTEM.OUT.PRINTLN(ID + ": " + P);
    }

    // TODO: 2021/9/7 FILES.EXISTS() FILES.GETFILENAME()
    STATIC VOID INFO(PATH P) {
        SHOW("TOSTRING", P);
        SHOW("EXISTS", FILES.EXISTS(P));
        // TODO: 2021/9/7 ISREGULARFILE() 是否是常规文件
        SHOW("REGULARFILE", FILES.ISREGULARFILE(P));
        SHOW("DIRECTORY", FILES.ISDIRECTORY(P));
        SHOW("ABSOLUTE", P.ISABSOLUTE());
        SHOW("FILENAME", P.GETFILENAME());
        SHOW("PARENT", P.GETPARENT());
        SHOW("ROOT", P.GETROOT());
        SYSTEM.OUT.PRINTLN("******************");
    }

    PUBLIC STATIC VOID MAIN(STRING[] ARGS) {
        SYSTEM.OUT.PRINTLN(SYSTEM.GETPROPERTY("OS.NAME"));
        // TODO: 2021/9/7 PATHS.GET(A)  键入文件 A 返回一个 PATH 对象
        INFO(PATHS.GET(
                "C:", "PATH", "TO", "NOWHERE", "NOFILE.TXT"));
        PATH P = PATHS.GET("SRC/MAIN/JAVA/COM/PATH/PATHINFO.JAVA");
        INFO(P);

        // TODO: 2021/9/7 TOABSOLUTEPATH() 相对路径转换成绝对路径
        PATH AP = P.TOABSOLUTEPATH();
        INFO(AP);

        INFO(AP.GETPARENT());

        TRY {
            INFO(P.TOREALPATH());
        } CATCH (IOEXCEPTION E) {
            SYSTEM.OUT.PRINTLN(E);
        }
        // TODO: 2021/9/7  将路径转换为 URI
        URI U = P.TOURI();
        SYSTEM.OUT.PRINTLN("URI: " + U);
        PATH PURI = PATHS.GET(U);
        SYSTEM.OUT.PRINTLN(FILES.EXISTS(PURI));
        FILE F = AP.TOFILE(); // DON'T BE FOOLED
    }
}
/* OUTPUT:
WINDOWS 8.1
TOSTRING: C:\PATH\TO\NOWHERE\NOFILE.TXT
EXISTS: FALSE
REGULARFILE: FALSE
DIRECTORY: FALSE
ABSOLUTE: TRUE
FILENAME: NOFILE.TXT
PARENT: C:\PATH\TO\NOWHERE
ROOT: C:\
******************
TOSTRING: PATHINFO.JAVA
EXISTS: TRUE
REGULARFILE: TRUE
DIRECTORY: FALSE
ABSOLUTE: FALSE
FILENAME: PATHINFO.JAVA
PARENT: NULL
ROOT: NULL
******************
TOSTRING:
C:\GIT\ONJAVA8\EXTRACTEDEXAMPLES\FILES\PATHINFO.JAVA
EXISTS: TRUE
REGULARFILE: TRUE
DIRECTORY: FALSE
ABSOLUTE: TRUE
FILENAME: PATHINFO.JAVA
PARENT: C:\GIT\ONJAVA8\EXTRACTEDEXAMPLES\FILES
ROOT: C:\
******************
TOSTRING: C:\GIT\ONJAVA8\EXTRACTEDEXAMPLES\FILES
EXISTS: TRUE
REGULARFILE: FALSE
DIRECTORY: TRUE
ABSOLUTE: TRUE
FILENAME: FILES
PARENT: C:\GIT\ONJAVA8\EXTRACTEDEXAMPLES
ROOT: C:\
******************
TOSTRING:
C:\GIT\ONJAVA8\EXTRACTEDEXAMPLES\FILES\PATHINFO.JAVA
EXISTS: TRUE
REGULARFILE: TRUE
DIRECTORY: FALSE
ABSOLUTE: TRUE
FILENAME: PATHINFO.JAVA
PARENT: C:\GIT\ONJAVA8\EXTRACTEDEXAMPLES\FILES
ROOT: C:\
******************
URI: FILE:///C:/GIT/ONJAVA8/EXTRACTEDEXAMPLES/FILES/PAT
HINFO.JAVA
TRUE
*/
